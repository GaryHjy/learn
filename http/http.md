# http

http协议（HyperText Transfer Protocol，超文本传输协议）是因特网上应用最广泛的一种网络传输协议

设计HTTP最初的目的是为了提供一种发布和接收HTML页面的方法，它是一个基于TCP/IP通信协议来传输数据的应用层协议

- 一句话概括

HTTP是一个在计算机师姐里面专门在两点之间传输文字、图片、音频、视频等超文本数据的约定和规范

- HTTP经典的几个版本

```
  1. HTTP/0.9于1990年问世，并没有作为正式的标准被建立
  2. HTTP/1.0于1996年5月发布
  3. HTTP/1.1于1997年1月发布
  4. HTTP/2于2015年5月发布(不叫HTTP/2.0，是因为标准委员会不打算发布子版本，下一个版本直接是HTTP/3)
```

- HTTP存在的位置

处于TCP/IP网络分层模型中的第一层应用层

**应用层的其它协议还有**

```
  1. FTP：文件传输协议，用来在客户机和FTP服务器之间传输文件
  2. DNS域名系统：提供域名到IP地址之间的解析服务
  3. SMTP：邮件发送协议，用于通过SMTP服务器发送邮件
  4. DHCP：动态主机配置协议，DHCP服务器为客户机动态分配IP地址
  5. POP3：邮箱接收协议，用于从POP3服务器接收邮件
```

- 特点

```
  1. HTTP协议支持客户端/服务端模式，也是一种请求/响应模式的协议
  2. 灵活可扩展：一个是语义上的自由，只规定了基本格式，其它的各部门没有严格的限制；第二个它允许传输任意类型的数据对象，例如文本、图片、音频等，传输的类型有Content-Type加以标记
  3. 可靠传输，HTTP基于TCP/IP，因此把这一特性继承了下来
  4. 无状态，也就是说HTTP请求不具备保存之前发送过的请求或响应的功能，每一次请求都是独立无关的
```

**持久连接**

概念：建立一次TCP连接即可进行多次请求或响应的交互

产生原因：HTTP的初始版本是每进行一次HTTP通信就要断开一次TCP连接，下次再进行的时候又要
重新连接断开。再如今请求的资源越来越大，每次请求如果都有无谓TCP连接和断开是很大的开销

特点：只要有一方没有明确的提出断开连接，则保持TCP连接状态

优点：减少了TCP连接和断开的造成的额外开销，减轻了服务端的负载，Web页面加载变快

注意点：在HTTP/1.1中所有的连接默认都是持久连接的（也就是首部字段Connection：keep-alive，若是想要关闭则将值设置为close），但是HTTP/1.0并未标准化

（还有一个管线化的特点，同时并行发送多个请求，而不必等前一个请求完毕才能发送下一个）

- 缺点

```
  1. 明文传输（不加密），内容可能会被窃听
  2. 无法验证报文的完整性，内容可能被篡改
  3. 不验证通信方的身份，有可能遭遇伪装
  4. 无状态，它是缺点也是优点，分不同的场景
  5. 队头阻塞
```